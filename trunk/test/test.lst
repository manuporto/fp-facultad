(ARCTools Version 2.1.2)
 HexLoc     DecLoc    MachWord   Label        Instruction                Comment
                                              .org 2048                  
                                                                         
00000800  0000002048  c2002870  LECTURA:      ld [2160], %r1             ! Guardo en %r1 lo que leo del puerto.
00000804  0000002052  84886001                andcc %r1, 1, %r2          ! %r2 <- (%r1 AND 1), enmascaro el bit del nivel mínimo. Si da 1, es porque el agua se encuentra por debajo del nivel mínimo.
00000808  0000002056  02800002                be 2                       ! Si el agua no está por debajo del nivel mínimo, comparo el nivel máximo
0000080c  0000002060  10800004                ba 4                       ! sino, apago el motor
                                                                         
00000810  0000002064  84886002  COMPARO_N_MAX:  andcc %r1, 2, %r2          ! Enmascaro el bit del nivel máximo. Si da 1, es porque se superó el nivel máximo.
00000814  0000002068  1280000b                bne 11                     ! Se superó el nivel máximo, entonces apago el motor
00000818  0000002072  10bffffa                ba -6                      ! Si no se superó, vuelvo a leer esperando cambios.
                                                                         
0000081c  0000002076  84886004  N_MIN:        andcc %r1, 4, %r2          ! Enmascaro el bit de HAY_AGUA. Si da 1, es porque no se pasó el límite inferior del agua en el reservorio
00000820  0000002080  0280000e                be 14                      ! Si no hay agua, prendo la luz roja. Si se alcanzó el nivel mínimo, el motor estaba apagado, por eso no lo apago.
00000824  0000002084  10800001                ba 1                       ! Si hay agua, y se alcanzó el nivel mínimo, prendo el motor
                                                                         
00000828  0000002088  84886040  PRENDO_MOTOR:  andcc %r1, 64, %r2         ! Enmascaro el bit de MOTOR, para ver en qué estado está
0000082c  0000002092  02800002                be 2                       ! Si estaba apagado, lo prendo.
00000830  0000002096  10bffff4                ba -12                     ! Si ya estaba prendido (en 1), lo dejo y vuelvo a leer, para ver si se activa algún sensor.
                                                                         
00000834  0000002100  86006040  PRENDO_MOTOR_2:  add %r1, 64, %r3           ! Sabiendo que el motor está apagado, lo prendo poniéndolo en uno.
00000838  0000002104  c6202870                st %r3, [2160]             ! Y luego lo mando por el puerto
0000083c  0000002108  10bffff1                ba -15                     
                                                                         
00000840  0000002112  84886040  APAGO_MOTOR:  andcc %r1, 64, %r2         ! Enmascaro el bit de MOTOR, para ver en qué estado está
00000844  0000002116  12800002                bne 2                      ! Si estaba prendido, lo apago.
00000848  0000002120  10bfffee                ba -18                     ! Si ya estaba prendido (en 1), lo dejo y vuelvo a leer, para ver si se activa algún sensor.
                                                                         
0000084c  0000002124  86206040  APAGO_MOTOR_2:  sub %r1, 64, %r3           ! Sabiendo que el motor está prendido, lo apago poniendo en cero el bit correspondiente.
00000850  0000002128  c6202870                st %r3, [2160]             ! Y luego lo mando por el puerto
00000854  0000002132  10bfffeb                ba -21                     
                                                                         
00000858  0000002136  84886020  PRENDO_LUZ_ROJA:  andcc %r1, 32, %r2         ! Enmascaro el bit de la luz roja, para ver en qué estado está
0000085c  0000002140  02800002                be 2                       ! Si estaba apagada, la prendo.
00000860  0000002144  10bfffe8                ba -24                     ! Si ya estaba prendido (en 1), lo dejo y vuelvo a leer, para ver si se activa algún sensor.
                                                                         
00000864  0000002148  86006020  PRENDO_LUZ_ROJA_2:  add %r1, 32, %r3           ! Sabiendo que la luz está apagada, la prendo.
00000868  0000002152  c6202870                st %r3, [2160]             ! Y luego lo mando por el puerto
0000086c  0000002156  10bfffe5                ba -27                     
                                                                         
00000870  0000002160  000000ff  PORT:                                    
                                                                         

--- Symbol Table ---
PORT: 2160
PRENDO_LUZ_ROJA: 2136
PRENDO_MOTOR: 2088
APAGO_MOTOR: 2112
N_MIN: 2076
COMPARO_N_MAX: 2064
PRENDO_LUZ_ROJA_2: 2148
PRENDO_MOTOR_2: 2100
APAGO_MOTOR_2: 2124
LECTURA: 2048
